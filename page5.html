<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Birthday Vibes ‚Äî Abhi</title>
<link rel="icon" href="assets/album-art.png">
<style>
  :root{
    --bg-top:#5b0b0b;
    --bg-bot:#1f0606;
    --card-bg: rgba(0,0,0,0.6);
    --muted: #c9bfc6;
    --accent1: #ff3a3a;
    --accent2: #ff7b7b;
    --soft: rgba(255,255,255,0.03);
  }

  html,body{
    height:100%;
    margin:0;
    font-family:Inter,system-ui,Arial,Helvetica,sans-serif;
    background: linear-gradient(180deg,var(--bg-top),var(--bg-bot));
    color:#fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .wrap{
    min-height:100vh;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding:28px 18px;
  }

  .card{
    width:100%;
    max-width:640px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), var(--card-bg));
    padding:22px;
    border-radius:20px;
    border:1px solid rgba(255,255,255,0.04);
    box-shadow: 0 28px 80px rgba(0,0,0,0.6);
  }

  /* header area */
  .header{
    text-align:center;
  }
  .pre{
    font-size:12px;
    color:var(--muted);
    letter-spacing:2px;
    text-transform:uppercase;
    margin-bottom:8px;
  }
  .title{
    font-size:28px;
    color: #ff6b6b;
    margin:0;
    font-weight:900;
    line-height:1.0;
  }
  .subtitle{
    color:var(--muted);
    margin-top:10px;
    font-size:15px;
  }

  /* big album art block */
  .art-wrap{
    margin:22px auto 18px;
    width:260px;
    height:260px;
    border-radius:18px;
    background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.75));
    display:grid;
    place-items:center;
    box-shadow: 0 20px 50px rgba(0,0,0,0.6), inset 0 6px 20px rgba(0,0,0,0.4);
    border: 6px solid rgba(0,0,0,0.35);
  }
  .art{
    width:220px;
    height:220px;
    border-radius:14px;
    object-fit:cover;
    background:#111;
    display:block;
    box-shadow: 0 12px 30px rgba(0,0,0,0.6);
  }

  .section-title{
    text-align:center;
    color:var(--muted);
    font-size:12px;
    letter-spacing:2px;
    margin-top:6px;
  }

  .lead{
    text-align:center;
    font-size:20px;
    font-weight:800;
    margin:14px 10px 4px;
    color:#fff;
  }
  .lead-desc{
    text-align:center;
    color:var(--muted);
    margin:8px 22px 14px;
    line-height:1.45;
  }

  /* playlist rows */
  .playlist{ display:flex; flex-direction:column; gap:14px; margin-top:8px; }
  .track{
    display:flex;
    gap:14px;
    align-items:flex-start;
    padding:14px;
    border-radius:14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.16));
    border: 1px solid rgba(255,255,255,0.02);
  }

  /* circular play with ring */
  .play{
    width:56px;
    height:56px;
    border-radius:50%;
    display:grid;
    place-items:center;
    background: linear-gradient(180deg,#111, rgba(0,0,0,0.6));
    position:relative;
    cursor:pointer;
    flex-shrink:0;
    box-shadow: 0 8px 20px rgba(0,0,0,0.55);
  }
  /* outer ring */
  .play::before{
    content:"";
    position:absolute;
    inset:-6px;
    border-radius:50%;
    background: radial-gradient(circle at 30% 30%, rgba(255,90,90,0.14), transparent 30%), linear-gradient(90deg,var(--accent1),var(--accent2));
    filter:blur(6px) saturate(120%);
    opacity:0.95;
    z-index:-1;
    transition: transform .18s ease;
  }
  .play .icon{
    width:20px;height:20px;
    display:block;
    border-left:10px solid #fff;
    border-top:6px solid transparent;
    border-bottom:6px solid transparent;
    transform:translateX(2px);
  }
  .play.playing .icon{ border-left-color:#111; background:linear-gradient(90deg,var(--accent1),var(--accent2)); border-left:0; width:24px; height:24px; mask-image: none; background-clip:padding-box; -webkit-mask-image: none; } 
  /* when playing show pause */
  .play.playing{ background: linear-gradient(90deg,var(--accent1),var(--accent2)); }
  .play.paused{ background: linear-gradient(180deg,#222, #111); }
  .play:active{ transform:scale(.98); }

  .meta{ flex:1; min-width:0; }
  .track-title{ font-weight:900; font-size:16px; color:#fff; margin:0; }
  .track-artist{ color:var(--muted); margin-top:6px; font-size:13px; }
  .track-desc{ color:var(--muted); margin-top:10px; font-size:14px; line-height:1.45; }

  .progress{ margin-top:12px; height:6px; background: rgba(255,255,255,0.03); border-radius:999px; overflow:hidden; position:relative; }
  .progress > i{ display:block; height:100%; width:0%; background: linear-gradient(90deg,var(--accent1),var(--accent2)); border-radius:999px; transition: width .12s linear; }

  /* controls row */
  .controls{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:18px; }
  .controls-left{ color:var(--muted); font-size:14px; }
  .controls-right{ display:flex; gap:10px; align-items:center; }
  .btn{ padding:10px 14px; border-radius:999px; border:none; font-weight:900; cursor:pointer; }
  .btn.ghost{ background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--muted) }
  .btn.playbig{ background: linear-gradient(90deg,var(--accent1),var(--accent2)); color:#111; width:84px; height:84px; border-radius:999px; display:grid; place-items:center; box-shadow:0 20px 50px rgba(0,0,0,0.6); font-size:16px; }

  /* small responsiveness */
  @media(max-width:480px){
    .art-wrap{ width:200px; height:200px; }
    .art{ width:180px; height:180px;}
    .play{ width:50px; height:50px; }
    .btn.playbig{ width:68px; height:68px; font-size:14px;}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="region" aria-label="Birthday vibes playlist">

      <div class="header">
        <div class="pre">Birthday Vibes Playlist üï∑Ô∏èüé∂</div>
        <h1 class="title">Songs that sound like memories</h1>
        <div class="subtitle">Some songs that feel like memories, wishes, and you.</div>
      </div>

      <div class="art-wrap" aria-hidden="true">
        <img class="art" src="assets/album-art.png" alt="playlist art">
      </div>

      <div class="section-title">SPECIAL PLAYLIST</div>
      <div class="lead">If our moments together were a soundtrack, they‚Äôd probably sound a little like this.</div>
      <div class="lead-desc">A small collection of songs that carry memory, warmth, and all the late-night talks ‚Äî picked for your day.</div>

      <div class="playlist" id="playlist">
        <!-- row 1 -->
        <div class="track" data-src="audio/night-changes.mp3">
          <div class="play idle" role="button" aria-label="Play Night Changes"><span class="icon"></span></div>
          <div class="meta">
            <div class="track-title">Night Changes</div>
            <div class="track-artist">One Direction</div>
            <div class="track-desc">For all the ways we‚Äôve grown up, changed, and still somehow stayed ‚Äúus‚Äù.</div>
            <div class="progress" aria-hidden="true"><i></i></div>
          </div>
        </div>

        <!-- row 2 -->
        <div class="track" data-src="audio/memories.mp3">
          <div class="play idle" role="button" aria-label="Play Memories"><span class="icon"></span></div>
          <div class="meta">
            <div class="track-title">Memories</div>
            <div class="track-artist">Maroon 5</div>
            <div class="track-desc">For every laugh, rant, chaos moment, and late-night chat I never want to forget.</div>
            <div class="progress" aria-hidden="true"><i></i></div>
          </div>
        </div>

        <!-- row 3 -->
        <div class="track" data-src="audio/never-grow-up.mp3">
          <div class="play idle" role="button" aria-label="Play Never Grow Up"><span class="icon"></span></div>
          <div class="meta">
            <div class="track-title">Never Grow Up</div>
            <div class="track-artist">Taylor Swift</div>
            <div class="track-desc">A reminder to keep some wonder. For cake, for wishes, for staying a little young at heart.</div>
            <div class="progress" aria-hidden="true"><i></i></div>
          </div>
        </div>
      </div>

      <div class="controls" style="margin-top:18px">
        <div class="controls-left">Now playing: <span id="nowPlaying">‚Äî</span></div>
        <div class="controls-right">
          <button id="prev" class="btn ghost" aria-label="previous">‚üµ</button>
          <button id="playPause" class="btn playbig" aria-label="play/pause">Play</button>
          <button id="next" class="btn ghost" aria-label="next">‚ü∂</button>
        </div>
      </div>

    </div>
  </div>

  <audio id="player" preload="metadata"></audio>

<script>
  const player = document.getElementById('player');
  const trackEls = Array.from(document.querySelectorAll('.track'));
  const playPauseBtn = document.getElementById('playPause');
  const prevBtn = document.getElementById('prev');
  const nextBtn = document.getElementById('next');
  const nowPlaying = document.getElementById('nowPlaying');

  let currentIndex = -1;
  let raf = null;

  function formatTime(s){
    if(!s || isNaN(s)) return '0:00';
    const m = Math.floor(s/60); const sec = Math.floor(s%60).toString().padStart(2,'0');
    return `${m}:${sec}`;
  }

  function clearActive(){
    trackEls.forEach(t=>{
      t.classList.remove('active');
      const p = t.querySelector('.play');
      p.classList.remove('playing','paused');
      p.classList.add('idle');
      t.querySelector('.progress>i').style.width = '0%';
    });
    nowPlaying.textContent = '‚Äî';
  }

  function setActive(i){
    clearActive();
    if(i < 0) return;
    const t = trackEls[i];
    t.classList.add('active');
    const p = t.querySelector('.play');
    p.classList.remove('idle'); p.classList.add('playing');
    nowPlaying.textContent = t.querySelector('.track-title').textContent + ' ‚Äî ' + t.querySelector('.track-artist').textContent;
  }

  function playIndex(i){
    if(i < 0 || i >= trackEls.length) return;
    const src = trackEls[i].dataset.src;
    if(!src) return;

    // if already playing that index -> toggle pause
    if(currentIndex === i && !player.paused){
      player.pause(); return;
    }

    if(currentIndex !== i){
      player.src = src;
      currentIndex = i;
    }
    player.play().catch(()=>{/* autoplay might be blocked until user interacts */});
    setActive(currentIndex);
    startProgressLoop();
  }

  // progress loop
  function startProgressLoop(){
    cancelAnimationFrame(raf);
    function step(){
      if(currentIndex < 0) return;
      const el = trackEls[currentIndex];
      if(player.duration && !isNaN(player.duration)){
        const pct = Math.max(0, Math.min(100, (player.currentTime/player.duration)*100));
        el.querySelector('.progress>i').style.width = pct + '%';
      }
      raf = requestAnimationFrame(step);
    }
    step();
  }

  // attach handlers
  trackEls.forEach((t, idx) => {
    const playTile = t.querySelector('.play');
    const progressBar = t.querySelector('.progress');

    playTile.addEventListener('click', (ev) => {
      ev.stopPropagation();
      // user gesture - allow play
      playIndex(idx);
    });

    // row click also plays
    t.addEventListener('click', (ev)=> {
      if(ev.target.closest('.progress')) return;
      playIndex(idx);
    });

    // click seek inside progress
    progressBar.addEventListener('click', (ev)=>{
      if(currentIndex !== idx){ playIndex(idx); return; }
      const rect = progressBar.getBoundingClientRect();
      const x = ev.clientX - rect.left;
      const pct = Math.max(0, Math.min(1, x/rect.width));
      if(player.duration) player.currentTime = pct * player.duration;
    });
  });

  // control buttons
  playPauseBtn.addEventListener('click', ()=>{
    if(player.paused){
      if(currentIndex === -1) playIndex(0);
      else player.play();
    } else player.pause();
  });

  prevBtn.addEventListener('click', ()=>{
    if(trackEls.length === 0) return;
    let p = currentIndex - 1;
    if(p < 0) p = trackEls.length - 1;
    playIndex(p);
  });

  nextBtn.addEventListener('click', ()=>{
    if(trackEls.length === 0) return;
    let n = currentIndex + 1;
    if(n >= trackEls.length) n = 0;
    playIndex(n);
  });

  // audio element events
  player.addEventListener('play', ()=> {
    playPauseBtn.textContent = 'Pause';
    if(currentIndex >= 0) setActive(currentIndex);
    startProgressLoop();
  });
  player.addEventListener('pause', ()=> {
    playPauseBtn.textContent = 'Play';
    if(currentIndex >= 0){
      const p = trackEls[currentIndex].querySelector('.play');
      p.classList.remove('playing');
      p.classList.add('paused');
    }
    cancelAnimationFrame(raf);
  });
  player.addEventListener('ended', ()=> {
    let n = currentIndex + 1;
    if(n >= trackEls.length) n = 0;
    playIndex(n);
  });

  // show durations ahead of time (preload metadata)
  trackEls.forEach((t, idx)=>{
    const src = t.dataset.src;
    if(!src) return;
    const a = document.createElement('audio');
    a.preload = 'metadata';
    a.src = src;
    a.addEventListener('loadedmetadata', ()=> {
      // optionally we could display duration; not shown in screenshot so skip
    });
  });

  // keyboard space toggles
  window.addEventListener('keydown', (e)=>{
    if(e.code === 'Space' && !e.target.matches('input,textarea')){
      e.preventDefault();
      if(player.paused){
        if(currentIndex === -1) playIndex(0);
        else player.play();
      } else player.pause();
    }
  });
</script>
</body>
</html>
